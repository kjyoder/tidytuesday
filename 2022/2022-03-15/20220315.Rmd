---
title: "TidyTuesday 2022-03-15"
output: html_notebook
---

```{r setup}
require(tidyverse)
require(spiralize)
```

```{r import_data}
# bioc <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-03-15/bioc.csv')
 cran <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-03-15/cran.csv')
# bioc %>% write_csv('bioc.csv')
# cran %>% write_csv('cran.csv')
bioc <- read_csv('bioc.csv', 
                 col_types = cols(
                   .default = col_integer(),
                   date = col_datetime(),
                   package = col_character()
                 ))
cran <- read_csv('cran.csv',
                 col_types = cols(
                   .default = col_integer(),
                   package = col_character(),
                   version = col_character()
                 ))
```

```{r}
c2 <- cran %>% 
  mutate(d = lubridate::as_datetime(date)) %>% 
  filter(is.na(d))

c3 <- c2 %>%
  mutate(d2 = stringr::str_sub(date, 5)) %>%
  mutate(mnam = stringr::str_sub(d2, 1, 3)) %>%
  mutate(mnum = month.abb[mnam])
```



```{r}
bioc$source <- 'Bioconductor'
cran$source <- 'CRAN'

d <- 
  rbind(cran %>% select(-version),
        bioc)
```

```{r}
spiral_initialize()
```



